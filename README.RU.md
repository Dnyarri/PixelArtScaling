
| [EN](README.md) | 『RU』 |
| --- | --- |

# Программы для масштабирования пиксельных картинок - Pixel Art Scaling

Программы для увеличения маленьких малоцветных картинок типа иконок и игровых спрайтов.

Также полезны для улучшения сканов текстов с низким разрешением перед OCR.

> [!NOTE]
> Для масштабирования одиночных файлов поддерживаются форматы PNG, PPM и PGM. Для bath-обработки поддерживается только формат PNG. Поддерживается batch-обработка всех PNG в выбранной директории и поддиректориях.

В настоящий момент поддерживаются методы [**Scale2x**](https://www.scale2x.it/) (aka **AdvMAME2x**) и **Scale3x** (aka **AdvMAME3x**).

- **Scale2x.py** - масштабирование одиночной картинки по методу Scale2x, программа оснащена минимальным удобным GUI, но также может быть использована из командной строки.  
Синтаксис:  
    *python Scale2x.py*                           - открывает GUI для выбора исходного и полученного файлов  
    *python Scale2x.py source.png*                - масштабирует source.png и перезаписывает его  
    *python Scale2x.py source.png result.png*     - масштабирует source.png и записывает result.png  

- **batchScale2x.py** - оптовое масштабирование всех файлов PNG в выбранной (с помощью GUI) директории. *Вынимание:* программа перезаписывает исходные PNG, если хотите сделать копию - делайте это заранее!  

- **Scale3x.py** - масштабирование одиночной картинки по методу Scale3x, программа оснащена минимальным удобным GUI, но также может быть использована из командной строки.  
Синтаксис:  
    *python Scale3x.py*                           - открывает GUI для выбора исходного и полученного файлов  
    *python Scale3x.py source.png*                - масштабирует source.png и перезаписывает его  
    *python Scale3x.py source.png result.png*     - масштабирует source.png и записывает result.png  

- **batchScale3x.py** - оптовое масштабирование всех файлов PNG в выбранной (с помощью GUI) директории. *Вынимание:* программа перезаписывает исходные PNG, если хотите сделать копию - делайте это заранее!  

> [!NOTE]
> Batch-программы в этой версии используют асинхронный мультипроцессинг, что резко уменьшает время обработки ценой загрузки всех процессоров на 100%, что делает интерфейс несколько неотзывчивым. Если вам кажется, что программа зависла - не пугайтесь, просто подождите, пока она пропихнёт все потоки со всеми вашими файлами через все процессоры разом.  

## Пример прогона Scale3x дважды по одной картинке

[![Пример прогона Scale3x дважды](https://dnyarri.github.io/imgscalenx/x3x3.png)](https://dnyarri.github.io/scalenx.html)

## Внешние зависимости

1. [PyPNG](https://gitlab.com/drj11/pypng). Копия включена в дистрибутив ScaleNx.
2. [PyPNM](https://pypi.org/project/PyPNM/). Копия включена в дистрибутив ScaleNx.
3. Tkinter, multiprocessing. Входят в состав стандартного дистрибутива CPython.

> [!NOTE]
> Программы написаны целиком на Python, и используют логичное представление картинки как списка списков списков.
> В то время как для человека данное представление является логичным, Python обрабатывает его медленно (впрочем, желающие могут попытаться указать мне и назвать, а что Python обрабатывает быстро).
> Помимо этого, программы включают переформатирование списков для ввода/вывода PNG и PNM, тоже с использованием исключительно средств Python.
> В результате программы не требуют больших внешних пакетов типа Pillow и numpy, не имеют конфликтов версий, и совместимы со всем, что шевелится, но работают медленно.

## Литература

1. [Первоисточник Scale2x и Scale3x](https://www.scale2x.it/algorithm) - описание алгоритмов автором, Andrea Mazzoleni.

2. [Алгоритмы масштабирования пиксельной графики](https://ru.wikipedia.org/wiki/Алгоритмы_масштабирования_пиксельной_графики) - краткий обзор на Wikipedia.

3. [ScaleNx на PyPI](https://pypi.org/project/ScaleNx/) - ядро ScaleNx, установка через *pip*. Чистое ядро без примеров, гуёв и т.п.

## Родственное

1. [Dnyarri website](https://dnyarri.github.io) - остальной товар от Жабы Огромной Умственной Силы.

2. [github Dnyarri](https://github.com/Dnyarri).

3. [gitflic Dnyarri](https://gitflic.ru/user/dnyarri) - зеркало.
